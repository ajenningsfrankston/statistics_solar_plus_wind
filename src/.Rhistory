p <- unlist(power)
p$x
p
p*4
source('~/statistics_solar_plus_wind/src/wind_power.R')
source('~/statistics_solar_plus_wind/src/day_trace.R')
source('~/statistics_solar_plus_wind/src/wind_power.R')
source('~/statistics_solar_plus_wind/src/sum_wind_solar.R')
source('~/statistics_solar_plus_wind/src/day_trace.R')
source('~/statistics_solar_plus_wind/src/wind_power.R')
source('~/statistics_solar_plus_wind/src/sum_wind_solar.R')
source('~/statistics_solar_plus_wind/src/day_trace.R')
source('~/statistics_solar_plus_wind/src/day_trace.R')
source('~/statistics_solar_plus_wind/src/wind_power.R')
source('~/statistics_solar_plus_wind/src/bom_solar_1min.R')
source('~/statistics_solar_plus_wind/src/wind_power.R')
source('~/statistics_solar_plus_wind/src/sum_wind_solar.R')
source('~/statistics_solar_plus_wind/src/day_trace.R')
source('~/statistics_solar_plus_wind/src/sum_wind_solar.R')
source('~/statistics_solar_plus_wind/src/wind_power.R')
plot(wind)
wind_density
source('~/statistics_solar_plus_wind/src/wind_power.R')
x = c(1,2,3,4)
x
(x>2)==0
(x>2)=0
replace(x,x>2,0)
source('~/statistics_solar_plus_wind/src/wind_power.R')
wind_density
wind_density$x
source('~/statistics_solar_plus_wind/src/wind_power.R')
wind_density
wind_density$x(which(wind_density$x<0)) <- 0
wind_density$x<0
which(wind_density$x<0)
farm_power
wind_density$x[which(wind_density$x <0 )] <-0
wind_density
plot(wind_density)
source('~/statistics_solar_plus_wind/src/wind_power.R')
source('~/statistics_solar_plus_wind/src/wind_power.R')
source('~/statistics_solar_plus_wind/src/wind_power.R')
source('~/statistics_solar_plus_wind/src/wind_power.R')
source('~/statistics_solar_plus_wind/src/wind_power.R')
source('~/statistics_solar_plus_wind/src/wind_power.R')
source('~/statistics_solar_plus_wind/src/wind_power.R')
source('~/statistics_solar_plus_wind/src/sum_wind_solar.R')
source('~/statistics_solar_plus_wind/src/day_trace.R')
source('~/statistics_solar_plus_wind/src/day_trace.R')
source('~/statistics_solar_plus_wind/src/day_trace.R')
source('~/statistics_solar_plus_wind/src/day_trace.R')
source('~/statistics_solar_plus_wind/src/day_trace.R')
storage_capacity
8*0.25
debugSource('~/statistics_solar_plus_wind/src/day_trace.R')
storage_density
mean(storage_density)
print(mean(storage_density))
density.mean
storage_density$Mean
mean(storage_density)
print(mean(storage_density))
h = cdr(1,0,0,0,0)
h = c(1,0,0,0,0)
length(h>0.01)
h > 0.01
length(h[h>0.01])
length(h[h>0.01]) == 1
which(h>0.01)
h[which(h>0.01)]
debugSource('~/statistics_solar_plus_wind/src/day_trace.R')
debugSource('~/statistics_solar_plus_wind/src/day_trace.R')
storage_density
debugSource('~/statistics_solar_plus_wind/src/day_trace.R')
debugSource('~/statistics_solar_plus_wind/src/day_trace.R')
storage_density$y > 0.1
d$y
storage_density$y
debugSource('~/statistics_solar_plus_wind/src/day_trace.R')
storage_density
source('~/statistics_solar_plus_wind/src/wind_power.R')
source('~/statistics_solar_plus_wind/src/wind_power.R')
source('~/statistics_solar_plus_wind/src/wind_power.R')
source('~/statistics_solar_plus_wind/src/wind_power.R')
source('~/statistics_solar_plus_wind/src/wind_power.R')
source('~/statistics_solar_plus_wind/src/sum_wind_solar.R')
Q
source('~/statistics_solar_plus_wind/src/sum_wind_solar.R')
source('~/statistics_solar_plus_wind/src/wind_power.R')
source('~/statistics_solar_plus_wind/src/bom_solar_1min.R')
source('~/statistics_solar_plus_wind/src/sum_wind_solar.R')
debugSource('~/statistics_solar_plus_wind/src/day_trace.R')
plot(storage_density)
m <- mean(storage_density)
m
plot(storage_density)
storage_density$x*storage_density$y
debugSource('~/statistics_solar_plus_wind/src/day_trace.R')
debugSource('~/statistics_solar_plus_wind/src/day_trace.R')
x = c(1,2,3,4)
y = c(1,2,3,4)
x %*% y
16+9+4+1
debugSource('~/statistics_solar_plus_wind/src/day_trace.R')
debugSource('~/statistics_solar_plus_wind/src/day_trace.R')
debugSource('~/statistics_solar_plus_wind/src/day_trace.R')
source('~/statistics_solar_plus_wind/src/sum_wind_solar.R')
source('~/statistics_solar_plus_wind/src/bom_solar_1min.R')
source('~/statistics_solar_plus_wind/src/sum_wind_solar.R')
plot(wind_density)
solar_files
source('~/statistics_solar_plus_wind/src/sum_wind_solar.R')
source('~/statistics_solar_plus_wind/src/sum_wind_solar.R')
source('~/statistics_solar_plus_wind/src/sum_wind_solar.R')
source('~/statistics_solar_plus_wind/src/sum_wind_solar.R')
convolve(wind_density,solar_density)
source('~/statistics_solar_plus_wind/src/sum_wind_solar.R')
source('~/statistics_solar_plus_wind/src/wind_power.R')
source('~/statistics_solar_plus_wind/src/bom_solar_1min.R')
mean(solar_densities[12])
mean(solar_densities[[12]])
print(mean(solar_densities[[12]]))
source('~/statistics_solar_plus_wind/src/wind_power.R')
source('~/statistics_solar_plus_wind/src/wind_power.R')
mean(wind_density)
print(mean(wind_density))
mean(farm_power)
wind_density
wind_density$x
source("mean.R")
print(mean(wind_density))
farm_power
plot(wind_density)
mean(wind_pwoer)
wind_power
farm_power
source('~/statistics_solar_plus_wind/src/sum_wind_solar.R')
source('~/statistics_solar_plus_wind/src/sum_wind_solar.R')
source('~/statistics_solar_plus_wind/src/bom_solar_1min.R')
source('~/statistics_solar_plus_wind/src/wind_power.R')
source('~/statistics_solar_plus_wind/src/wind_power.R')
source('~/statistics_solar_plus_wind/src/sum_wind_solar.R')
debugSource('~/statistics_solar_plus_wind/src/sum_wind_solar.R')
plot(px)
plot(py)
plot(dx)
plot(dy)
plot(px)
plot(pty)
plot(py)
plot(dy)
plot(py)
debugSource('~/statistics_solar_plus_wind/src/sum_wind_solar.R')
plot(dx)
plot(px)
whatis px
px
plot(dx)
plot(dy)
plot(y)
plot(py)
plot(dy)
zmax
z_max
x
y
plot(y)
plot(dy)
plot(dx)
z
plot(dz)
plot(z,dz)
f.X <- function(x) dnorm(x,1,0.5)        # normal (mu=1.5, sigma=0.5)
f.Y <- function(y) dlnorm(y,1.5, 0.75)
x = seq(10.3.0.1)
x = seq(0,3,0.1)
x
plot(x,f.X)
y <- f.X(x)
plot(x,y)
t <- convolution(f.X,f.Y)
a <- data.frame(x,y)
plot(a)
u <- f.Y(x)
b <- data.frame(x,u)
plot(b)
z <- convolution(a,b)
z
plot(z)
x = seq(0,50,0.1)
y <- f.X(x)
u <- f.Y(x)
a <- data.frame(x,y)
b <- data.frame(x,u)
z <- convolution(a,b)
plot(z)
plot(a)
plot(b)
f.X <- function(x) dnorm(x,1,0.5)        # normal (mu=1.5, sigma=0.5)
f.Y <- function(y) dlnorm(y,1.5, 0.75)   # log-normal (mu=1.5, sigma=0.75)
# convolution integral
f.Z <- function(z) integrate(function(x,z) f.Y(z-x)*f.X(x),-Inf,Inf,z)$value
f.Z <- Vectorize(f.Z)                    # need to vectorize the resulting fn.
set.seed(1)                              # for reproducible example
X <- rnorm(1000,1,0.5)
Y <- rlnorm(1000,1.5,0.75)
Z <- X + Y
# compare the methods
hist(Z,freq=F,breaks=50, xlim=c(0,30))
z <- seq(0,50,0.01)
lines(z,f.Z(z),lty=2,col="red")
pz <- function(z) integrate(function(x,z) py(z-x)*px(x),-Inf,Inf,z,stop.on.error = FALSE)$value
pz <- Vectorize(pz)
dz <- pz(z)
px
x = seq(0,15,0.1)
y = seq(0,15,0.1)
f.X <- function(x) dnorm(x,1,0.5)        # normal (mu=1.5, sigma=0.5)
f.Y <- function(y) dlnorm(y,1.5, 0.75)
plot(x,f.X)
f.X
y1 <- f.X(x)
y2 <- f.Y(x)
a <- data.frame(x,y1)
b <- data.frame(x,y2)
plot(a)
plot(b)
y <- x
z_min <- min(x+y)
z_max <- max(x+y)
z <- seq(1,512)
z <- z_min + z*(z_max-z_min)/512
pz <- function(z) integrate(function(x,z) py(z-x)*px(x),-Inf,Inf,z,stop.on.error = FALSE)$value
pz <- Vectorize(pz)
dz <- pz(z)
g <- convolution(a,b)
plot(g)
plot(a)
plot(b)
plot(a)
plot(b)
plot(x,y2)
px <- f.X(x)
py <- f.Y(x)
z_min <- min(x+y)
z_max <- max(x+y)
z <- seq(1,512)
z <- z_min + z*(z_max-z_min)/512
pz <- function(z) integrate(function(x,z) py(z-x)*px(x),-Inf,Inf,z,stop.on.error = FALSE)$value
pz <- Vectorize(pz)
dz <- pz(z)
a
b
convolution(a,b)
plot(a)
plot(b)
plot(px)
plot(x,px)
plot(x,px(x))
px
plot(px)
px
x
z <- px(x)
plot(x,z)
z <- py(x)
plot(x,z)
z
plot(z,dz)
debugSource('~/statistics_solar_plus_wind/src/sum_wind_solar.R')
source('~/statistics_solar_plus_wind/src/bom_solar_1min.R')
source('~/statistics_solar_plus_wind/src/bom_solar_1min.R')
source('~/statistics_solar_plus_wind/src/bom_solar_1min.R')
source('~/statistics_solar_plus_wind/src/bom_solar_1min.R')
source('~/statistics_solar_plus_wind/src/bom_solar_1min.R')
source('~/statistics_solar_plus_wind/src/wind_power.R')
source('~/statistics_solar_plus_wind/src/bom_solar_1min.R')
debugSource('~/statistics_solar_plus_wind/src/sum_wind_solar.R')
source('~/statistics_solar_plus_wind/src/bom_solar_1min.R')
Q
source('~/statistics_solar_plus_wind/src/bom_solar_1min.R')
source('~/statistics_solar_plus_wind/src/bom_solar_1min.R')
debugSource('~/statistics_solar_plus_wind/src/sum_wind_solar.R')
source('~/statistics_solar_plus_wind/src/wind_power.R')
source('~/statistics_solar_plus_wind/src/wind_power.R')
debugSource('~/statistics_solar_plus_wind/src/sum_wind_solar.R')
debugSource('~/statistics_solar_plus_wind/src/sum_wind_solar.R')
source('~/statistics_solar_plus_wind/src/sum_wind_solar.R')
debugSource('~/statistics_solar_plus_wind/src/day_trace.R')
storage_density
storage_density$y
source('~/statistics_solar_plus_wind/src/day_trace.R')
Q
Q
source('~/statistics_solar_plus_wind/src/day_trace.R')
source('~/statistics_solar_plus_wind/src/sum_wind_solar.R')
debugSource('~/statistics_solar_plus_wind/src/day_trace.R')
plot(storage)
plot(storage)
plot(storage)
plot(storage)
plot(storage)
debugSource('~/statistics_solar_plus_wind/src/day_trace.R')
full_cases
source('~/statistics_solar_plus_wind/src/trim_storage.R')
debugSource('~/statistics_solar_plus_wind/src/day_trace.R')
cap
plot(storage)
source('~/statistics_solar_plus_wind/src/day_trace.R')
source('~/statistics_solar_plus_wind/src/day_trace.R')
source('~/statistics_solar_plus_wind/src/day_trace.R')
8*background_demand
source("sum_probs.R")
source('~/statistics_solar_plus_wind/src/day_trace.R')
source('~/statistics_solar_plus_wind/src/day_trace.R')
source('~/statistics_solar_plus_wind/src/day_trace.R')
source('~/statistics_solar_plus_wind/src/wind_power.R')
source('~/statistics_solar_plus_wind/src/sum_wind_solar.R')
source('~/statistics_solar_plus_wind/src/wind_power.R')
source('~/statistics_solar_plus_wind/src/bom_solar_1min.R')
source('~/statistics_solar_plus_wind/src/sum_wind_solar.R')
source('~/statistics_solar_plus_wind/src/sum_wind_solar.R')
source('~/statistics_solar_plus_wind/src/sum_wind_solar.R')
source('~/statistics_solar_plus_wind/src/bom_solar_1min.R')
source('~/statistics_solar_plus_wind/src/wind_power.R')
source('~/statistics_solar_plus_wind/src/bom_solar_1min.R')
source('~/statistics_solar_plus_wind/src/sum_wind_solar.R')
source('~/statistics_solar_plus_wind/src/sum_wind_solar.R')
source('~/statistics_solar_plus_wind/src/day_trace.R')
debugSource('~/statistics_solar_plus_wind/src/day_trace.R')
Q
q
debugSource('~/statistics_solar_plus_wind/src/day_trace.R')
Q
debugSource('~/statistics_solar_plus_wind/src/day_trace.R')
mean(wind_density)
print(mean(wind_density))
storage_density$x > 3
storage_density$x
plot(storage_density)
storage_density$y
which(storage$x > capacity)
which(storage$x > storage_capacity)
which(storage_density$x > storage_capacity)
storage_density$y
storage_density$x
x = c(4,3,2,1)
x <- x[-1]
x
x <- x[(-1)]
x
debugSource('~/statistics_solar_plus_wind/src/day_trace.R')
source('~/statistics_solar_plus_wind/src/day_trace.R')
storage_density$y
debugSource('~/statistics_solar_plus_wind/src/day_trace.R')
storage_density$y
storage_density$y
storage_density$x
Q
debugSource('~/statistics_solar_plus_wind/src/day_trace.R')
storage$x[77]
cap
cap
storage$y[cap]
excess_cases
storage$y[cap]
plot(storage)
capacity
capacity
storage$x
storage$y
excess_cases
max(storage$x)
full_cases
storage$x
which(excess_cases==cap)
cap
storage$x[23]
source('~/statistics_solar_plus_wind/src/day_trace.R')
source('~/statistics_solar_plus_wind/src/day_trace.R')
source('~/statistics_solar_plus_wind/src/day_trace.R')
source('~/statistics_solar_plus_wind/src/day_trace.R')
source('~/statistics_solar_plus_wind/src/day_trace.R')
source('~/statistics_solar_plus_wind/src/day_trace.R')
source('~/statistics_solar_plus_wind/src/day_trace.R')
source('~/statistics_solar_plus_wind/src/day_trace.R')
source('~/statistics_solar_plus_wind/src/day_trace.R')
source('~/statistics_solar_plus_wind/src/day_trace.R')
source('~/statistics_solar_plus_wind/src/day_trace.R')
source('~/statistics_solar_plus_wind/src/day_trace.R')
source('~/statistics_solar_plus_wind/src/day_trace.R')
mean(sum_densities)
mean(sum_densities[])
sum_densities[[]]
lapply(mean,balance_densities)
lapply(balance_densities,mean)
g <- lapply(balance_densities,mean)
g
g[]
g[[]]
max(g[])
source('~/statistics_solar_plus_wind/src/day_trace.R')
a <- mean(sum_densities[[14]])
a
a <- mean(sum_densities[[12]])
a
source('~/statistics_solar_plus_wind/src/day_trace.R')
source('~/statistics_solar_plus_wind/src/day_trace.R')
hrs
g$hrs <- hrs
g
g$with[4] <- 44
g
source('~/statistics_solar_plus_wind/src/day_trace.R')
storage_hrs = data.frame(hrs)
storage_hrs
shtorage_hrs$bal[7] <- 0.5
storage_hrs$bal[7] <-0.5
storage_hrs
storage_hrs["col"] <- NA
storage_hrs
storag_hrs$col[1] <- 33
storage_hrs$col[1] <- 33
storage_hrs
source('~/statistics_solar_plus_wind/src/day_trace.R')
storage_trace
plot(storage_trace)
balance
p <- ggplot(storage_trace,aes(x=hrs,balance,withdraw)) + geom_line()
print(p)
p <- ggplot(storage_trace,aes(hrs)) + geom_line(y=balance) + geom_line(y=withdraw)
print(p)
p <- ggplot(storage_trace,aes(x=hrs)) + geom_line(y=balance) + geom_line(y=withdraw)
print(p)
library(tidyr)
t <- gather(storage_trace,hrs,balance,withdraw)
t
p <- ggplot(t,aes(x=hrs,y=balance))
p + geom_line()
print(p)
p <- ggplot(t,aex(x=hrs,y=balance,colour=key)) + geom_line()
p <- ggplot(t,aes(x=hrs,y=balance,colour=key)) + geom_line()
print(p)
p <- ggplot(t,aes(x=hrs,y=balance)) + geom_line()
print(p)
t <- gather(storage_trace,hr,value)
t
t <- gather(storage_trace,hrs,value,balance,withdraw)
t
storage_trace
t <- as.matrix(storage_trace)
matplot(t)
matplot(t,col=2,3)
t <- melt(storage_trace,hrs)
storage_trace
p <- ggplot(storage_trace,aex(x=hrs,y=balance)) + geom_line()
p <- ggplot(storage_trace,aes(x=hrs,y=balance)) + geom_line()
print(p)
p <- ggplot(storage_trace,aex(x=hrs,y=withdraw)) + geom_line()
p <- ggplot(storage_trace,aes(x=hrs,y=withdraw)) + geom_line()
print(p)
source('~/statistics_solar_plus_wind/src/day_trace.R')
source('~/statistics_solar_plus_wind/src/day_trace.R')
source('~/statistics_solar_plus_wind/src/day_trace.R')
fname = paste("~/plots/balance_",hr,".jpg")
fname
fname = paste("~/plots/balance_",hr,".jpg",sep="")
source('~/statistics_solar_plus_wind/src/day_trace.R')
source('~/statistics_solar_plus_wind/src/day_trace.R')
source('~/statistics_solar_plus_wind/src/sum_wind_solar.R')
source('~/statistics_solar_plus_wind/src/sum_wind_solar.R')
demand = vector(mode="numeric",length=24)
demand[] = 1.0
demand[6:9] = 1.5
demand[16:20] = 2.0
# residual (eg. 4am) demand
background_demand = 0.50
demand <- background_demand*demand
demand
p <- ggplot(storage_trace,aes(x=hrs,y=demand)) + geom_line()
library(ggplot2)
p <- ggplot(storage_trace,aes(x=hrs,y=demand)) + geom_line()
print(p)
demand
hrs = seq(1,24)
p <- ggplot(storage_trace,aes(x=hrs,y=demand)) + geom_line()
> print(p)
print(p)
x
hrs
demand
length(demand)
length(hrs)
p <- ggplot(storage_trace,aes(x=hrs,y=demand)) + geom_line()
print(p)
plot(demand)
d$hrs <- hrs
d
dem$hrs <- hrs
dem = data.frame
dem$hrs <- hrs
hrs
demplot = data.frame(hrs)
demplot$hrs <- hrs
demplot$demand <- demand
p <- ggplot(demplot,aes(x=hrs,y=demand)) + geom_line()
print(p)
p <- ggplot(demplot,aes(x=hrs,y=demand)) + geom_line() + xlim(0,1.2)
print(p)
p <- ggplot(demplot,aes(x=hrs,y=demand)) + geom_line() + ylim(0,1.2)
print(p)
